(()=>{"use strict";!async function(){const{providers:e,options:i}=await(async e=>chrome.storage.sync.get(["providers","options"]))(),t=(s=window.location.href.split("://")[1],s=s?.split("&")[0],"/"===s?.slice(-1)?s?.slice(0,-1):s);var s;const{isScheduled:n,isBlockingDay:o,isBlockingTime:a}=(e=>{const i=e.scheduleBlocking.value,t=new Date,s=t.getDay()-1,n=s%7<0?s+7:s,o=e.activeDays.value.map((e=>e.value)),a=o[n],[c,l]=t.toLocaleTimeString().split(":"),{allDay:r,start:m,end:u}=e.activeTimes.value,[d,h]=m.value.split(":"),[g,p]=u.value.split(":");return{isScheduled:i,isBlockingDay:a,isBlockingTime:r.value||d<c&&c<g||d===c&&h<l||c===g&&l<p}})(i),c=e.filter((e=>e.isByPath&&t?.startsWith(e.hostname)||e.hostname===t)),l=`chrome-extension://${chrome.runtime.id}/page-block.html?redirect=${encodeURIComponent(t)}&id=${c[0]?.id}`;c[0]?c.some((e=>e.unblocked))?chrome.runtime.sendMessage({action:"Disable context menu"}):!n||o&&a?window.location.assign(l):chrome.runtime.sendMessage({action:"Disable context menu"}):chrome.runtime.sendMessage({action:"Enable context menu"})}()})();